<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Base ggproto classes for ggplot2 — GeomDraw • ggalign</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Base ggproto classes for ggplot2 — GeomDraw"><meta name="description" content="Base ggproto classes for ggplot2"><meta property="og:description" content="Base ggproto classes for ggplot2"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggalign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/layout-heatmap.html">Heatmap Layout</a></li>
    <li><a class="dropdown-item" href="../articles/align.html">align</a></li>
    <li><a class="dropdown-item" href="../articles/layout-stack.html">Stack Layout</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ComplexHeatmap</h6></li>
    <li><a class="dropdown-item" href="../articles/single-heatmap.html">ComplexHeatmap: single-heatmap</a></li>
    <li><a class="dropdown-item" href="../articles/more-examples.html">ComplexHeatmap: more examples</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Yunuuuu/ggalign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Base ggproto classes for ggplot2</h1>
      <small class="dont-index">Source: <a href="https://github.com/Yunuuuu/ggalign/blob/main/R/geom-draw.R" class="external-link"><code>R/geom-draw.R</code></a></small>
      <div class="d-none name"><code>ggplot2-ggproto.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Base ggproto classes for ggplot2</p>
    </div>


    <div class="section level2">
    <h2 id="geoms">Geoms<a class="anchor" aria-label="anchor" href="#geoms"></a></h2>




<p>All <code>geom_*()</code> functions (like <code>geom_point()</code>) return a layer that
contains a <code>Geom*</code> object (like <code>GeomPoint</code>). The <code>Geom*</code>
object is responsible for rendering the data in the plot.</p>
<p>Each of the <code>Geom*</code> objects is a <code><a href="https://ggplot2.tidyverse.org/reference/ggproto.html" class="external-link">ggproto()</a></code> object, descended
from the top-level <code>Geom</code>, and each implements various methods and
fields.</p>
<p>Compared to <code>Stat</code> and <code>Position</code>, <code>Geom</code> is a little
different because the execution of the setup and compute functions is
split up. <code>setup_data</code> runs before position adjustments, and
<code>draw_layer()</code> is not run until render time, much later.</p>
<p>To create a new type of Geom object, you typically will want to
override one or more of the following:</p><ul><li><p>Either <code>draw_panel(self, data, panel_params, coord)</code> or
<code>draw_group(self, data, panel_params, coord)</code>. <code>draw_panel</code> is
called once per panel, <code>draw_group</code> is called once per group.</p>
<p>Use <code>draw_panel</code> if each row in the data represents a
single element. Use <code>draw_group</code> if each group represents
an element (e.g. a smooth, a violin).</p>
<p><code>data</code> is a data frame of scaled aesthetics.</p>
<p><code>panel_params</code> is a set of per-panel parameters for the
<code>coord</code>. Generally, you should consider <code>panel_params</code>
to be an opaque data structure that you pass along whenever you call
a coord method.</p>
<p>You must always call <code>coord$transform(data, panel_params)</code> to
get the (position) scaled data for plotting. To work with
non-linear coordinate systems, you typically need to convert into a
primitive geom (e.g. point, path or polygon), and then pass on to the
corresponding draw method for munching.</p>
<p>Must return a grob. Use <code><a href="https://ggplot2.tidyverse.org/reference/zeroGrob.html" class="external-link">zeroGrob()</a></code> if there's nothing to
draw.</p></li>
<li><p><code>draw_key</code>: Renders a single legend key.</p></li>
<li><p><code>required_aes</code>: A character vector of aesthetics needed to
render the geom.</p></li>
<li><p><code>default_aes</code>: A list (generated by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> of
default values for aesthetics.</p></li>
<li><p><code>setup_data</code>: Converts width and height to xmin and xmax,
and ymin and ymax values. It can potentially set other values as well.</p></li>
</ul><p>See also the <a href="https://ggplot2-book.org/extensions#sec-new-geoms" class="external-link">new geoms section</a> of the online ggplot2 book.</p>
    </div>
    <div class="section level2">
    <h2 id="coordinate-systems">Coordinate systems<a class="anchor" aria-label="anchor" href="#coordinate-systems"></a></h2>




<p>All <code>coord_*()</code> functions (like <code>coord_trans()</code>) return a <code>Coord*</code>
object (like <code>CoordTrans</code>).</p>
<p>Each of the <code>Coord*</code> objects is a <code><a href="https://ggplot2.tidyverse.org/reference/ggproto.html" class="external-link">ggproto()</a></code> object,
descended from the top-level <code>Coord</code>.  To create a new type of Coord
object, you typically will want to implement one or more of the following:</p><ul><li><p><code>aspect</code>: Returns the desired aspect ratio for the plot.</p></li>
<li><p><code>labels</code>: Returns a list containing labels for x and y.</p></li>
<li><p><code>render_fg</code>: Renders foreground elements.</p></li>
<li><p><code>render_bg</code>: Renders background elements.</p></li>
<li><p><code>render_axis_h</code>: Renders the horizontal axes.</p></li>
<li><p><code>render_axis_v</code>: Renders the vertical axes.</p></li>
<li><p><code>backtransform_range(panel_params)</code>: Extracts the panel range provided
in <code>panel_params</code> (created by <code>setup_panel_params()</code>, see below) and
back-transforms to data coordinates. This back-transformation can be needed
for coords such as <code>coord_trans()</code> where the range in the transformed
coordinates differs from the range in the untransformed coordinates. Returns
a list of two ranges, <code>x</code> and <code>y</code>, and these correspond to the variables
mapped to the <code>x</code> and <code>y</code> aesthetics, even for coords such as <code>coord_flip()</code>
where the <code>x</code> aesthetic is shown along the y direction and vice versa.</p></li>
<li><p><code>range(panel_params)</code>: Extracts the panel range provided
in <code>panel_params</code> (created by <code>setup_panel_params()</code>, see below) and
returns it. Unlike <code>backtransform_range()</code>, this function does not perform
any back-transformation and instead returns final transformed coordinates. Returns
a list of two ranges, <code>x</code> and <code>y</code>, and these correspond to the variables
mapped to the <code>x</code> and <code>y</code> aesthetics, even for coords such as <code>coord_flip()</code>
where the <code>x</code> aesthetic is shown along the y direction and vice versa.</p></li>
<li><p><code>transform</code>: Transforms x and y coordinates.</p></li>
<li><p><code>distance</code>: Calculates distance.</p></li>
<li><p><code>is_linear</code>: Returns <code>TRUE</code> if the coordinate system is
linear; <code>FALSE</code> otherwise.</p></li>
<li><p><code>is_free</code>: Returns <code>TRUE</code> if the coordinate system supports free
positional scales; <code>FALSE</code> otherwise.</p></li>
<li><p><code>setup_panel_params(scale_x, scale_y, params)</code>: Determines the appropriate
x and y ranges for each panel, and also calculates anything else needed to
render the panel and axes, such as tick positions and labels for major
and minor ticks. Returns all this information in a named list.</p></li>
<li><p><code>setup_data(data, params)</code>: Allows the coordinate system to
manipulate the plot data. Should return list of data frames.</p></li>
<li><p><code>setup_layout(layout, params)</code>: Allows the coordinate
system to manipulate the <code>layout</code> data frame which assigns
data to panels and scales.</p></li>
</ul><p>See also the <a href="https://ggplot2-book.org/extensions#sec-new-coords" class="external-link">new coords section</a> of the online ggplot2 book.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>ggproto</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yun Peng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

