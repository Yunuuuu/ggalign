<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A ggplot2 Extension for Consistent Axis Alignment • ggalign</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A ggplot2 Extension for Consistent Axis Alignment">
<meta name="description" content="A ggplot2 extension offers various tools for organizing and arranging plots. It is designed to consistently align a specific axis across multiple ggplot objects, making it especially useful for plots requiring data order manipulation. A typical use case includes organizing combinations like a dendrogram and a heatmap.">
<meta property="og:description" content="A ggplot2 extension offers various tools for organizing and arranging plots. It is designed to consistently align a specific axis across multiple ggplot objects, making it especially useful for plots requiring data order manipulation. A typical use case includes organizing combinations like a dendrogram and a heatmap.">
<meta property="og:image" content="https://yunuuuu.github.io/ggalign/logo.png">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ggalign</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/heatmap-layout.html">Heatmap Layout</a></li>
    <li><a class="dropdown-item" href="articles/layout-customize.html">Layout Customization</a></li>
    <li><a class="dropdown-item" href="articles/layout-plot.html">Layout Plot</a></li>
    <li><a class="dropdown-item" href="articles/stack-layout.html">Stack Layout</a></li>
    <li><a class="dropdown-item" href="articles/special-syntax.html">Special Syntax for Layout Axis</a></li>
    <li><a class="dropdown-item" href="articles/complete-examples.html">Complete Examples</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip> </h6></li>
    <li><a class="dropdown-item" href="articles/plot-composer.html">Plot composer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip> </h6></li>
    <li><a class="dropdown-item" href="articles/FAQ.html">FAQ</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip> </h6></li>
    <li><a class="dropdown-item" href="articles/performance.html">Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ComplexHeatmap</h6></li>
    <li><a class="dropdown-item" href="articles/single-heatmap.html">ComplexHeatmap: single-heatmap</a></li>
    <li><a class="dropdown-item" href="articles/more-examples.html">ComplexHeatmap: more examples</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Yunuuuu/ggalign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ggalign-">ggalign 
<a class="anchor" aria-label="anchor" href="#ggalign-"></a>
</h1>
</div>
<!-- badges: start -->

<p>This package extends ggplot2 by providing advanced tools for aligning and organizing multiple plots, particularly those that automatically reorder observations, such as dendrogram. It offers fine control over layout adjustment and plot annotations, enabling you to create complex, publication-quality visualizations while still using the familiar grammar of ggplot2.</p>
<div class="section level2">
<h2 id="why-use-ggalign">Why use <code>ggalign</code>?<a class="anchor" aria-label="anchor" href="#why-use-ggalign"></a>
</h2>
<p><code>ggalign</code> focuses on aligning observations across multiple plots. It leverages the <code>"number of observations"</code> in the <a href="https://vctrs.r-lib.org/reference/vec_size.html" class="external-link">vctrs</a> package or <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">NROW()</a></code> function to maintain consistency in plot organization.</p>
<p>If you’ve ever struggled with aligning plots with self-contained ordering (like dendrogram), or applying consistent grouping or ordering across multiple plots (e.g., with k-means clustering), <code>ggalign</code> is designed to make this easier. The package integrates seamlessly with ggplot2, providing the flexibility to use its geoms, scales, and other components for complex visualizations.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <code>ggalign</code> from <code>CRAN</code> using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggalign"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, install the development version from <a href="https://yunuuuu.r-universe.dev/ggalign" class="external-link">r-universe</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggalign"</span>,</span>
<span>    repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://yunuuuu.r-universe.dev"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>or from <a href="https://github.com/Yunuuuu/ggalign" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Yunuuuu/ggalign"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The usage of <code>ggalign</code> is simple if you’re familiar with <code>ggplot2</code> syntax, the typical workflow includes:</p>
<ul>
<li>Initialize the layout using <code><a href="reference/heatmap_layout.html">ggheatmap()</a></code> or <code><a href="reference/stack_layout.html">ggstack()</a></code>.</li>
<li>Customize the layout with:
<ul>
<li>
<code><a href="reference/align_group.html">align_group()</a></code>: Group layout axis into panel with a group variable.</li>
<li>
<code><a href="reference/align_kmeans.html">align_kmeans()</a></code>: Group layout axis into panel by kmeans.</li>
<li>
<code><a href="reference/align_order.html">align_order()</a></code>: Reorder layout observations based on statistical weights or by manually specifying the observation index.</li>
<li>
<code><a href="reference/align_dendro.html">align_dendro()</a></code>: Reorder or Group layout based on hierarchical clustering.</li>
</ul>
</li>
<li>Adding plots with <code><a href="reference/align_gg.html">ggalign()</a></code> or <code><a href="reference/align_panel.html">ggpanel()</a></code>, and then layer additional ggplot2 elements such as geoms, stats, or scales.</li>
</ul>
<p>For documents of the release version, please see <a href="https://yunuuuu.github.io/ggalign" class="uri">https://yunuuuu.github.io/ggalign</a>, for documents of the development version, please see <a href="https://yunuuuu.github.io/ggalign/dev" class="uri">https://yunuuuu.github.io/ggalign/dev</a></p>
</div>
<div class="section level2">
<h2 id="basic-example">Basic example<a class="anchor" aria-label="anchor" href="#basic-example"></a>
</h2>
<p>Below, we’ll walk through a basic example of using <code>ggalign</code> to create a heatmap with a <code>dendrogram</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Yunuuuu/ggalign" class="external-link">ggalign</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">small_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">81</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">small_mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"row"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">small_mat</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">small_mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"column"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">small_mat</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># initialize the heatmap layout, we can regard it as a normal ggplot object</span></span>
<span><span class="fu"><a href="reference/heatmap_layout.html">ggheatmap</a></span><span class="op">(</span><span class="va">small_mat</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># we can directly modify geoms, scales and other ggplot2 components</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add annotation in the top</span></span>
<span>    <span class="fu"><a href="reference/hmanno.html">hmanno</a></span><span class="op">(</span><span class="st">"top"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># in the top annotation, we add a dendrogram, and split observations into 3 groups</span></span>
<span>    <span class="fu"><a href="reference/align_dendro.html">align_dendro</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">branch</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># in the dendrogram we add a point geom</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">branch</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># change color mapping for the dendrogram</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://yunuuuu.github.io/ggalign/dev/articles/complete-examples_files/figure-html/unnamed-chunk-3-1.png"></p>
</div>
<div class="section level2">
<h2 id="compare-with-other-ggplot2-heatmap-extension">Compare with other ggplot2 heatmap extension<a class="anchor" aria-label="anchor" href="#compare-with-other-ggplot2-heatmap-extension"></a>
</h2>
<p><code>ggalign</code> offers advantages over extensions like <a href="https://github.com/XiaoLuo-boy/ggheatmap" class="external-link">ggheatmap</a> by providing full compatibility with <code>ggplot2</code>. With <code>ggalign</code>, you can:</p>
<ul>
<li>Seamlessly integrate ggplot2 <code>geoms</code>, <code>stats</code>, <code>scales</code> et al. into your layouts.</li>
<li>Align dendrograms even in facetted plots.</li>
<li>Easily create complex layouts, including multiple heatmaps arranged vertically or horizontally.</li>
</ul>
</div>
<div class="section level2">
<h2 id="compare-with-complexheatmap">Compare with ComplexHeatmap<a class="anchor" aria-label="anchor" href="#compare-with-complexheatmap"></a>
</h2>
<div class="section level3">
<h3 id="pros">Pros<a class="anchor" aria-label="anchor" href="#pros"></a>
</h3>
<ul>
<li>Full integration with the <code>ggplot2</code> ecosystem.</li>
<li>Heatmap annotation axes and legends are automatically generated.</li>
<li>Dendrogram can be easily customized and colored.</li>
<li>Flexible control over plot size and spacing.</li>
<li>Can easily align with other <code>ggplot2</code> plots by panel area.</li>
<li>Can easily extend for other clustering algorithm, or annotation plot.</li>
</ul>
</div>
<div class="section level3">
<h3 id="cons">Cons<a class="anchor" aria-label="anchor" href="#cons"></a>
</h3>
<p>Fewer Built-In Annotations: May require additional coding for specific annotations or customization compared to the extensive built-in annotation function in <a href="https://github.com/jokergoo/ComplexHeatmap" class="external-link">ComplexHeatmap</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="more-complex-examples">More Complex Examples<a class="anchor" aria-label="anchor" href="#more-complex-examples"></a>
</h2>
<p>Here are some more advanced visualizations using <code>ggalign</code>:</p>
<p><img src="https://yunuuuu.github.io/ggalign/dev/articles/more-examples_files/figure-html/unnamed-chunk-3-1.png"></p>
<p><img src="https://yunuuuu.github.io/ggalign/dev/articles/more-examples_files/figure-html/unnamed-chunk-2-1.png"></p>
</div>
<div class="section level2">
<h2 id="further-documentation">Further Documentation<a class="anchor" aria-label="anchor" href="#further-documentation"></a>
</h2>
<ul>
<li><a href="https://yunuuuu.github.io/ggalign/dev/articles/heatmap-layout.html">Heatmap Layout</a></li>
<li><a href="https://yunuuuu.github.io/ggalign/dev/articles/layout-customize.html">Layout Customization</a></li>
<li><a href="https://yunuuuu.github.io/ggalign/dev/articles/layout-plot.html">Layout Plot</a></li>
<li><a href="https://yunuuuu.github.io/ggalign/dev/articles/stack-layout.html">Stack Layout</a></li>
<li><a href="https://yunuuuu.github.io/ggalign/dev/articles/special-syntax.html">Special Syntax for Layout Axis</a></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ggalign" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Yunuuuu/ggalign/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Yunuuuu/ggalign/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ggalign</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Yun Peng <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-2801-3332" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Yunuuuu/ggalign/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Yunuuuu/ggalign/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/Yunuuuu/ggalign?branch=main" class="external-link"><img src="https://codecov.io/gh/Yunuuuu/ggalign/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=ggalign" class="external-link"><img src="https://www.r-pkg.org/badges/version/ggalign" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yun Peng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
